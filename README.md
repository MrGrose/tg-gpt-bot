# ğŸ¤– Telegram AI Bot

[![Python](https://img.shields.io/badge/Python-3.12-blue.svg)](https://python.org)
[![Aiogram](https://img.shields.io/badge/aiogram-3.4-green.svg)](https://docs.aiogram.dev)
[![DeepSeek](https://img.shields.io/badge/DeepSeek-API-orange.svg)](https://deepseek.com)
[![Poetry](https://img.shields.io/badge/Poetry-âœ“-blueviolet.svg)](https://python-poetry.org)
[![Docker](https://img.shields.io/badge/Docker-âœ“-blue.svg)](https://docker.com)

## Ğ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğµ
Telegram Ğ±Ğ¾Ñ‚ Ñ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸ĞµĞ¹ DeepSeek API. ĞŸĞ¾ÑÑ‚Ñ€Ğ¾ĞµĞ½ Ğ½Ğ° Ğ¿Ñ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ğ°Ñ… Clean Architecture Ñ Ñ‡ĞµÑ‚ĞºĞ¸Ğ¼ Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸ĞµĞ¼ Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸.


### Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸
- /start, /help, /new - Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ½Ğ°Ğ±Ğ¾Ñ€ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´
- ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³Ğ° - Ğ¿Ğ¾Ğ¼Ğ½Ğ¸Ñ‚ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ N ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ (Ğ½Ğ°ÑÑ‚Ñ€Ğ°Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ)
- DeepSeek API - Ğ±Ñ‹ÑÑ‚Ñ€Ğ°Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ¾Ğ²
- ĞÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¾ÑÑ‚ÑŒ - aiogram 3.x
- Clean Architecture - Domain/Application/Infrastructure
- Ğ¥Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ² Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸
- Ğ›Ğ¸Ğ¼Ğ¸Ñ‚Ñ‹ - Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ Ğ´Ğ»Ğ¸Ğ½Ğ½Ñ‹Ñ… ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ Ğ¸ ÑĞ¿Ğ°Ğ¼Ğ°
- DEBUG Ñ€ĞµĞ¶Ğ¸Ğ¼ - Ğ½Ğ°ÑÑ‚Ñ€Ğ°Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ Ñ‡ĞµÑ€ĞµĞ· .env
- Docker

### ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Telegram AI Bot                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Domain   â”‚  Application  â”‚     Infrastructure      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Dialog  â”‚ â€¢ ChatUseCase â”‚ â€¢ Telegram API          â”‚
â”‚ â€¢ Message â”‚               â”‚ â€¢ DeepSeek Provider     â”‚
â”‚ â€¢ Storage â”‚               â”‚ â€¢ Memory Storage        â”‚
â”‚   (interface)             â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
```text
â”œâ”€â”€ bot/
â”‚   â”œâ”€â”€ main.py              # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°
â”‚   â”œâ”€â”€ config.py            # Pydantic ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ (.env)
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â””â”€â”€ logger.py        # Ğ›Ğ¾Ğ³Ğ³ĞµÑ€ (ÑƒÑ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ DEBUG)
â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”œâ”€â”€ entities.py      # Ğ”Ğ¸Ğ°Ğ»Ğ¾Ğ³, ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
â”‚   â”‚   â””â”€â”€ interfaces.py    # ĞĞ±ÑÑ‚Ñ€Ğ°ĞºÑ†Ğ¸Ğ¸ (Storage, LLM)
â”‚   â”œâ”€â”€ application/
â”‚   â”‚   â””â”€â”€ use_cases.py     # ChatUseCase
â”‚   â””â”€â”€ infrastructure/
â”‚       â”œâ”€â”€ telegram/
â”‚       â”‚   â”œâ”€â”€ bot.py       # Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ±Ğ¾Ñ‚Ğ°, ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹
â”‚       â”‚   â””â”€â”€ handlers.py 
â”‚       â”‚   â””â”€â”€ registration.py
â”‚       â”‚   â””â”€â”€ utils.py
â”‚       â”œâ”€â”€ llm/
â”‚       â”‚   â””â”€â”€ deepseek_provider.py  # DeepSeek API ĞºĞ»Ğ¸ĞµĞ½Ñ‚
â”‚       â””â”€â”€ storage/
â”‚           â””â”€â”€ memory_storage.py     # Ğ¥Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ² Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸
â”œâ”€â”€ .env
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .dockerignore
â”œâ”€â”€ pyproject.toml
â”œâ”€â”€ poetry.lock
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ README.md
```

### Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚

1. ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
```bash
git clone https://github.com/yourusername/telegram-deepseek-bot
```

2. ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ
```bash
 .env

# Telegram
BOT_TOKEN=your_bot_token_here
BOT_USERNAME=your_bot_username

# DeepSeek
DEEPSEEK_API_KEY=your_deepseek_key_here

# Ğ›Ğ¸Ğ¼Ğ¸Ñ‚Ñ‹ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
MAX_HISTORY_MESSAGES=10    # Ğ¡ĞºĞ¾Ğ»ÑŒĞºĞ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ Ğ¿Ğ¾Ğ¼Ğ½Ğ¸Ñ‚ÑŒ
MAX_MESSAGE_LENGTH=500     # ĞœĞ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ´Ğ»Ğ¸Ğ½Ğ° ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ
MAX_RESPONSE_LENGTH=4000   # ĞœĞ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ´Ğ»Ğ¸Ğ½Ğ° Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ°
RATE_LIMIT_SECONDS=1       # ĞĞ½Ñ‚Ğ¸ÑĞ¿Ğ°Ğ¼ (ÑĞµĞºÑƒĞ½Ğ´ Ğ¼ĞµĞ¶Ğ´Ñƒ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸ÑĞ¼Ğ¸)

# Ğ ĞµĞ¶Ğ¸Ğ¼ Ğ¾Ñ‚Ğ»Ğ°Ğ´ĞºĞ¸
DEBUG=True                 # ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ debug-Ğ»Ğ¾Ğ³Ğ¸
```


3. Ğ—Ğ°Ğ¿ÑƒÑĞº

```bash
poetry install
python -m bot.main
```
Ğ¸Ğ»Ğ¸

```bash
docker compose up -d --build
```


### ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ±Ğ¾Ñ‚Ğ°
- `/start`:	ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³, ÑĞ±Ñ€Ğ¾ÑĞ¸Ñ‚ÑŒ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚
- `/help`:	ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ ÑĞ¿Ñ€Ğ°Ğ²ĞºÑƒ Ğ¿Ğ¾ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
- `/new`:	Ğ¡Ğ±Ñ€Ğ¾ÑĞ¸Ñ‚ÑŒ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³Ğ°


### ĞÑ‚Ğ»Ğ°Ğ´ĞºĞ°
```text
DEBUG=True Ğ² .env Ğ²ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚:
- ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ñ‹Ğµ Ğ»Ğ¾Ğ³Ğ¸ Ğ² ĞºĞ¾Ğ½ÑĞ¾Ğ»Ğ¸
- ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ° Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³Ğ°
- Ğ’Ñ€ĞµĞ¼Ñ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
- ĞŸĞ¾Ğ»Ğ½Ñ‹Ğµ traceback Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº

DEBUG=False â€” Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸ Ğ¸ Ğ²Ğ°Ğ¶Ğ½Ñ‹Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ.
```